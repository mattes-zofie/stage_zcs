<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Scheda Stage e Feedback</title>
    <link rel="stylesheet" href="style.css" />
    <script>
      function salvaGiorni() {
        //inizializzazione variabili per l'inserimento delle attività
        var ids = [
          "giorno1",
          "giorno2",
          "giorno3",
          "giorno4",
          "giorno5",
          "giorno1_2",
          "giorno2_2",
          "giorno3_2",
          "giorno4_2",
          "giorno5_2",
          "giorno1_3",
          "giorno2_3",
          "giorno3_3",
          "giorno4_3",
          "giorno5_3",
          "giorno1_4",
          "giorno2_4",
          "giorno3_4",
          "giorno4_4",
          "giorno5_4",
        ];
        ids.forEach(function (id) {
          var value = document.getElementById(id).value.trim();
          localStorage.setItem(id, value);
        });
        alert("Giorni salvati!");
      }

      function mostraDati() {
        var nome = localStorage.getItem("nome") || "";
        var cognome = localStorage.getItem("cognome") || "";
        document.getElementById("utente").innerText =
          "Utente: " + nome + " " + cognome;
        //assegnazione/memorizzazione attività inserita e nel caso non è stata scritta da che non è presente nessuna attività
        var giorno1 = localStorage.getItem("giorno1") || "Nessuna attività";
        var giorno2 = localStorage.getItem("giorno2") || "Nessuna attività";
        var giorno3 = localStorage.getItem("giorno3") || "Nessuna attività";
        var giorno4 = localStorage.getItem("giorno4") || "Nessuna attività";
        var giorno5 = localStorage.getItem("giorno5") || "Nessuna attività";

        var giorno1_2 = localStorage.getItem("giorno1_2") || "Nessuna attività";
        var giorno2_2 = localStorage.getItem("giorno2_2") || "Nessuna attività";
        var giorno3_2 = localStorage.getItem("giorno3_2") || "Nessuna attività";
        var giorno4_2 = localStorage.getItem("giorno4_2") || "Nessuna attività";
        var giorno5_2 = localStorage.getItem("giorno5_2") || "Nessuna attività";

        var giorno1_3 = localStorage.getItem("giorno1_3") || "Nessuna attività";
        var giorno2_3 = localStorage.getItem("giorno2_3") || "Nessuna attività";
        var giorno3_3 = localStorage.getItem("giorno3_3") || "Nessuna attività";
        var giorno4_3 = localStorage.getItem("giorno4_3") || "Nessuna attività";
        var giorno5_3 = localStorage.getItem("giorno5_3") || "Nessuna attività";

        var giorno1_4 = localStorage.getItem("giorno1_4") || "Nessuna attività";
        var giorno2_4 = localStorage.getItem("giorno2_4") || "Nessuna attività";
        var giorno3_4 = localStorage.getItem("giorno3_4") || "Nessuna attività";
        var giorno4_4 = localStorage.getItem("giorno4_4") || "Nessuna attività";
        var giorno5_4 = localStorage.getItem("giorno5_4") || "Nessuna attività";

        //stampa 
        var risultatoHTML =
          "<h3>Dati salvati:</h3>" +
          "<p><strong>1° settimana mattina:</strong></p>" +
          "<ul>" +
          "<li>Lunedì: " +
          giorno1 +
          "</li>" +
          "<li>Martedì: " +
          giorno2 +
          "</li>" +
          "<li>Mercoledì: " +
          giorno3 +
          "</li>" +
          "<li>Giovedì: " +
          giorno4 +
          "</li>" +
          "<li>Venerdì: " +
          giorno5 +
          "</li>" +
          "</ul>" +
          "<p><strong>1° settimana pomeriggio:</strong></p>" +
          "<ul>" +
          "<li>Lunedì: " +
          giorno1_2 +
          "</li>" +
          "<li>Martedì: " +
          giorno2_2 +
          "</li>" +
          "<li>Mercoledì: " +
          giorno3_2 +
          "</li>" +
          "<li>Giovedì: " +
          giorno4_2 +
          "</li>" +
          "<li>Venerdì: " +
          giorno5_2 +
          "</li>" +
          "</ul>" +
          "<p><strong>2° settimana mattina:</strong></p>" +
          "<ul>" +
          "<li>Lunedì: " +
          giorno1_3 +
          "</li>" +
          "<li>Martedì: " +
          giorno2_3 +
          "</li>" +
          "<li>Mercoledì: " +
          giorno3_3 +
          "</li>" +
          "<li>Giovedì: " +
          giorno4_3 +
          "</li>" +
          "<li>Venerdì: " +
          giorno5_3 +
          "</li>" +
          "</ul>" +
          "<p><strong>2° settimana pomeriggio:</strong></p>" +
          "<ul>" +
          "<li>Lunedì: " +
          giorno1_4 +
          "</li>" +
          "<li>Martedì: " +
          giorno2_4 +
          "</li>" +
          "<li>Mercoledì: " +
          giorno3_4 +
          "</li>" +
          "<li>Giovedì: " +
          giorno4_4 +
          "</li>" +
          "<li>Venerdì: " +
          giorno5_4 +
          "</li>" +
          "</ul>";

        document.getElementById("risultato").innerHTML = risultatoHTML;
      }
      //Quando la pagina viene caricata, il primo tab (tab1) viene visualizzato e la funzione mostraDati() viene eseguita.
      function showTab(tabId, btn) {
        var tabs = document.querySelectorAll(".tab-content");
        tabs.forEach(function (tab) {
          tab.style.display = "none";
        });
        var buttons = document.querySelectorAll(".tab-button");
        buttons.forEach(function (button) {
          button.classList.remove("active");
        });
        document.getElementById(tabId).style.display = "block";
        if (btn) {
          btn.classList.add("active");
        }
      }

      window.onload = function () {
        showTab("tab1");
        mostraDati();
      };
    </script>
  </head>
  <body>
    <a href="./index.html">
      <img
        src="https://img.freepik.com/vettori-premium/simbolo-della-home-page-dell-icona-per-il-sito-web_414847-462.jpg?w=360"
        alt="stage"
        class="home-icon"
      />
    </a>

    <h1>Tabella attività</h1>
    <p id="utente"></p>
    <p id="risultato"></p>

    <button class="tab-button" onclick="showTab('tab1', this)">
      Prima settimana
    </button>
    <button class="tab-button" onclick="showTab('tab2', this)">
      Seconda settimana
    </button>
    <!--tabella per l'inserimento dati-->
    <div id="tab1" class="tab-content">
      <h2>1° settimana</h2>
      <table class="schedule-table">
        <thead>
          <tr>
            <th>Giorno</th>
            <th>Mattina</th>
            <th>Pomeriggio</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Lunedì</td>
            <td><input type="text" id="giorno1" /></td>
            <td><input type="text" id="giorno1_2" /></td>
          </tr>
          <tr>
            <td>Martedì</td>
            <td><input type="text" id="giorno2" /></td>
            <td><input type="text" id="giorno2_2" /></td>
          </tr>
          <tr>
            <td>Mercoledì</td>
            <td><input type="text" id="giorno3" /></td>
            <td><input type="text" id="giorno3_2" /></td>
          </tr>
          <tr>
            <td>Giovedì</td>
            <td><input type="text" id="giorno4" /></td>
            <td><input type="text" id="giorno4_2" /></td>
          </tr>
          <tr>
            <td>Venerdì</td>
            <td><input type="text" id="giorno5" /></td>
            <td><input type="text" id="giorno5_2" /></td>
          </tr>
        </tbody>
      </table>
    </div>

    <div id="tab2" class="tab-content">
      <h2>2° settimana</h2>
      <table class="schedule-table">
        <thead>
          <tr>
            <th>Giorno</th>
            <th>Mattina</th>
            <th>Pomeriggio</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Lunedì</td>
            <td><input type="text" id="giorno1_3" /></td>
            <td><input type="text" id="giorno1_4" /></td>
          </tr>
          <tr>
            <td>Martedì</td>
            <td><input type="text" id="giorno2_3" /></td>
            <td><input type="text" id="giorno2_4" /></td>
          </tr>
          <tr>
            <td>Mercoledì</td>
            <td><input type="text" id="giorno3_3" /></td>
            <td><input type="text" id="giorno3_4" /></td>
          </tr>
          <tr>
            <td>Giovedì</td>
            <td><input type="text" id="giorno4_3" /></td>
            <td><input type="text" id="giorno4_4" /></td>
          </tr>
          <tr>
            <td>Venerdì</td>
            <td><input type="text" id="giorno5_3" /></td>
            <td><input type="text" id="giorno5_4" /></td>
          </tr>
        </tbody>
      </table>
    </div>

    <br /><br />
    <!--tasti-->
    <button class="tab-button" onclick="salvaGiorni()">Salva i giorni</button> 
    <button class="tab-button" onclick="mostraDati()">
      Mostra i dati salvati
    </button>
    <a href="./stampo.html">
      <button type="button" class="tab-button">Stampa</button>
    </a>
  </body>
</html>
